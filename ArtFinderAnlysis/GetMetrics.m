function Metrics = GetMetrics(confusion_matrix, class_count)
    Metrics = zeros(1,14,"double");
    Metrics(1) = class_count;
    total_observations = sum(confusion_matrix,"all");
    Metrics(2) = total_observations;
    true_positives = diag(confusion_matrix);
    false_positives = sum(confusion_matrix,2)-true_positives;
    false_negatives = sum(confusion_matrix,1)'-true_positives;
    total_row = sum(confusion_matrix,2);
    total_column = sum(confusion_matrix,1);
    true_negatives = 0;
    error_rate_macro = sum((false_positives+false_negatives)./(true_positives+false_negatives+false_positives+true_negatives))./class_count;
    Metrics(3) = error_rate_macro;
    accuracy_macro = sum((true_positives+true_negatives)./(true_positives+true_negatives+false_positives+false_negatives))./class_count;
    Metrics(4) = accuracy_macro;
    balanced_accuracy_micro = sum(true_positives)/sum(total_row);
    Metrics(5) = balanced_accuracy_micro;
    balanced_accuracy_macro = sum(true_positives./total_row)/class_count;
    Metrics(6) = balanced_accuracy_macro;
    precision_micro = sum(true_positives)/sum(true_positives+false_positives);
    Metrics(7) = precision_micro;
    precision_macro = sum(true_positives./(true_positives + false_positives+realmin(class(true_positives))))./class_count;
    Metrics(8) = precision_macro;
    recall_micro=sum(true_positives)/sum(true_positives+false_negatives);
    Metrics(9) = recall_micro;
    recall_macro=sum(true_positives./(true_positives + false_negatives+realmin(class(true_positives))))./class_count;
    Metrics(10) = recall_macro;
    f1_score_micro = 2 * recall_micro * precision_micro/(recall_micro + precision_micro);
    Metrics(11) = f1_score_micro;
    f1_score_macro = 2 * recall_macro * precision_macro/(recall_macro + precision_macro);
    Metrics(12) = f1_score_macro;
    %MCA = (true_positives+true_negatives)./(true_positives+true_negatives+false_positives+false_negatives);
    %c = sum(confusion_matrix,2);
    %WMCA=sum(MCA.*(c/total_observations));
    accuracy_micro = sum(true_positives+true_negatives)/sum(true_positives+true_negatives+false_positives+false_negatives);
    Metrics(13) = accuracy_micro;
    error_rate_micro = sum(false_positives+false_negatives)/sum(true_positives+false_negatives+false_positives+true_negatives);
    Metrics(14) = error_rate_micro;
end

